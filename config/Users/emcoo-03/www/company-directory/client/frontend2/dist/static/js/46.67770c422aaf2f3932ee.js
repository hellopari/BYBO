webpackJsonp([46],{rgXM:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("Dd8w"),r=a.n(s),o=(a("7+uW"),a("NYxO")),n={data:function(){var t=this;return{form:!1,isLoading:!1,openMessage:!1,changeDefault:!1,forms:{active:!1,start:"",rule:"",untail:null,"organization.id":this.$route.params.organizationId},rules:{email:function(e){return(e||"").match(/@/)||t.$t("validation.email")},required:function(e){return!!e||t.$t("validation.required")}}}},mounted:function(){this.reloadNumber(),this._initOrganizations()},methods:r()({},Object(o.b)(["snackbarStateChange"]),{reloadNumber:function(){var t=this;this.$http.get("manager/member_number_rule",{params:{"organization.id":this.$route.params.organizationId},headers:{"X-TENANT-ID":this.$route.params.organizationId}}).then(function(e){e.data.content.length>0&&(t.forms=e.data.content[0],t.forms["organization.id"]=t.$route.params.organizationId,delete t.forms.createdAt,delete t.forms.lastModifiedAt)})},_initOrganizations:function(){var t=this;this.$http.get("manager/organizations/"+this.$route.params.organizationId,{headers:{"X-TENANT-ID":this.$route.params.organizationId}}).then(function(e){t.openMessage=e.data.openMessage},function(t){})},onSubmit:function(){var t=this;this.isLoading=!0,this.changeDefault&&(this.forms.changeDefault=this.changeDefault);var e=void 0===this.forms.id?"store_message":"update_message";this.$http.post("manager/member_number_rule",this.$serialize(this.forms),{headers:{"X-TENANT-ID":this.$route.params.organizationId}}).then(function(a){t.snackbarStateChange({color:"success",text:t.$t("message."+e),snackbar:!0}),t.isLoading=!1}).catch(function(e){t.isLoading=!1,t.snackbarStateChange({color:"error",text:e,snackbar:!0})})},updateOpenMessage:function(t){var e=this;this.$http.post("manager/organizations/update_openMessage",this.$serialize({organizationId:this.$route.params.organizationId,openMessage:t}),{headers:{"X-TENANT-ID":this.$route.params.organizationId}}).then(function(t){e.snackbarStateChange({color:"success",text:e.$t("message.update_message"),snackbar:!0}),e.isLoading=!1}).catch(function(t){e.isLoading=!1,e.snackbarStateChange({color:"error",text:t,snackbar:!0})})},changes:function(t){this.forms.id&&!t&&this.onSubmit()}})},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-form",{ref:"form",model:{value:t.form,callback:function(e){t.form=e},expression:"form"}},[a("v-container",{attrs:{"grid-list-xl":"","text-xs-center":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xl6:"",md8:"","offset-xl3":"","offset-md2":"",xs12:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"text-xs-right",staticStyle:{"line-height":"68px"},attrs:{md3:"",xs4:""}},[t._v(t._s(t.$t("chamber.member.number"))+":")]),t._v(" "),a("v-flex",{attrs:{md9:"",xs8:""}},[a("v-switch",{attrs:{label:t.$t("global.codeRule"),color:"indigo darken-3","hide-details":""},on:{change:function(e){return t.changes(t.forms.active)}},model:{value:t.forms.active,callback:function(e){t.$set(t.forms,"active",e)},expression:"forms.active"}})],1)],1)],1),t._v(" "),t.forms.active?a("v-flex",{attrs:{xs12:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"text-xs-right",staticStyle:{"line-height":"68px"},attrs:{md3:"",xs4:""}},[t._v(t._s(t.$t("global.codeRulelable"))+":")]),t._v(" "),a("v-flex",{attrs:{md9:"",xs8:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{md6:""}},[a("v-text-field",{attrs:{color:"purple darken-2",rules:[t.rules.required],placeholder:"例如: BA",label:t.$t("global.codeRuleStart")},model:{value:t.forms.start,callback:function(e){t.$set(t.forms,"start",e)},expression:"forms.start"}})],1),t._v(" "),a("v-flex",{attrs:{md6:""}},[a("v-text-field",{attrs:{color:"purple darken-2",rules:[t.rules.required],placeholder:"例如: 101",label:t.$t("global.codeRulelable")},model:{value:t.forms.rule,callback:function(e){t.$set(t.forms,"rule",e)},expression:"forms.rule"}})],1)],1)],1)],1)],1):t._e(),t._v(" "),t.forms.active?a("v-flex",{attrs:{xs12:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{md9:"",xs8:"","offset-xs4":"","offset-md3":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{md12:""}},[a("v-text-field",{attrs:{color:"purple darken-2",rules:[t.rules.required],placeholder:t.$t("global.mantissaText"),label:t.$t("global.mantissa")},model:{value:t.forms.untail,callback:function(e){t.$set(t.forms,"untail",e)},expression:"forms.untail"}})],1)],1)],1)],1)],1):t._e(),t._v(" "),t.forms.active?a("v-flex",{attrs:{xs12:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{md9:"",xs8:"","offset-xs4":"","offset-md3":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{md12:""}},[a("v-checkbox",{attrs:{label:t.$t("global.isChangeDefault"),color:"primary"},model:{value:t.changeDefault,callback:function(e){t.changeDefault=e},expression:"changeDefault"}})],1)],1)],1)],1)],1):t._e(),t._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"text-xs-right",staticStyle:{"line-height":"68px"},attrs:{xs5:"",md3:""}},[t._v(t._s(t.$t("global.replySetting"))+":")]),t._v(" "),a("v-flex",{attrs:{xs7:"",md9:""}},[a("v-switch",{attrs:{label:t.$t("global.replySettingText"),color:"indigo darken-3","hide-details":""},on:{change:function(e){return t.updateOpenMessage(t.openMessage)}},model:{value:t.openMessage,callback:function(e){t.openMessage=e},expression:"openMessage"}})],1)],1)],1),t._v(" "),a("v-spacer"),t._v(" "),t.forms.active?a("v-btn",{attrs:{color:"primary darken-1",disabled:!t.form,loading:t.isLoading,flat:""},nativeOn:{click:function(e){return t.onSubmit()}}},[t._v(t._s(t.$t("button.save"))+"\n        ")]):t._e()],1)],1)],1)],1)},staticRenderFns:[]},l=a("VU/8")(n,i,!1,null,null,null);e.default=l.exports}});
webpackJsonp([26],{KxOQ:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e("Dd8w"),i=e.n(a),o=e("NYxO"),l={data:function(){return{checkbox:!1,loading:!1,isLoading:!1,valid:!0,cocSelf:{},radioGroup:1,positions:[],memberships:[],forms:{active:!1,isPay:!1,introducer:null,status:"PENDING",role:"user",statement1:!1,statement2:!1,statement3:!1,joinType:"APPLIY","memberPosition.id":null,"membership.id":null,"organization.id":this.$route.query.organizationId,"user.id":sessionStorage.getItem("userId")},rules:{required:function(t){return!!t||"This field is required"}}}},mounted:function(){this._initOrganizations(),this.reloadPositions(),this.reloadMemberships()},methods:i()({},Object(o.b)(["snackbarStateChange"]),{_initOrganizations:function(){var t=this;this.loading=!0,this.$http.get("public/organizations/"+this.$route.query.organizationId).then(function(s){t.cocSelf=s.data,t.loading=!1},function(t){})},reloadPositions:function(){var t=this;this.$http.get("member_positions",{params:{"organization.id":this.$route.query.organizationId}}).then(function(s){t.positions=s.data.content})},reloadMemberships:function(){var t=this;this.$http.get("memberships",{params:{"organization.id":this.$route.query.organizationId}}).then(function(s){t.memberships=s.data.content})},change:function(t,s){"membership"===t?this.forms["membership.id"]=s:this.forms["memberPosition.id"]=s},onSubmit:function(){var t=this;null!==this.forms["membership.id"]?null!==this.forms["memberPosition.id"]?(null===this.forms.introducer&&delete this.forms.introducer,this.isLoading=!0,this.$http.post("members",this.$serialize(this.forms)).then(function(s){t.snackbarStateChange({color:"success",text:t.$t("global.applySuccess"),snackbar:!0}),t.$router.push({path:"/company/home",query:{id:t.$route.query.organizationId}}),t.isLoading=!1}).catch(function(s){t.isLoading=!1,t.snackbarStateChange({color:"error",text:s,snackbar:!0})})):this.snackbarStateChange({color:"error",text:this.$t("global.selectApplyPosition"),snackbar:!0}):this.snackbarStateChange({color:"error",text:this.$t("global.selectApplyShip"),snackbar:!0})}})},r={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"apply-page"},[t.loading?e("div",{staticClass:"text-xs-center"},[e("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1):e("v-form",{ref:"form",model:{value:t.valid,callback:function(s){t.valid=s},expression:"valid"}},[e("v-container",{staticClass:"mt-5 pb-5",attrs:{fluid:""}},[e("v-layout",{staticClass:"head-wrap white",attrs:{row:"",wrap:""}},[e("v-flex",{attrs:{xs12:""}},[e("v-layout",{attrs:{row:"",wrap:""}},[e("v-flex",{attrs:{xs12:""}},[e("v-layout",{attrs:{row:"",wrap:""}},[e("v-flex",{staticClass:"logo text-xs-left",attrs:{md1:"",xs2:""}},[e("img",{attrs:{src:t.$fileUrl+t.cocSelf.logo,alt:""}})]),t._v(" "),e("v-flex",{staticClass:"ml-2 text-xs-left detail-box",attrs:{xs10:""}},[e("div",{staticClass:"name headline font-weight-bold my-2"},[t._v(t._s(t.cocSelf.name))]),t._v(" "),e("div",{staticClass:"purpose mb-3 body-2"},[t._v(t._s(t.$t("cocShow.navbar.purpose"))+"："+t._s(t.cocSelf.purpose))]),t._v(" "),e("div",{staticClass:"address body-2"},[t._v(t._s(t.$t("cocShow.navbar.coc_address"))+"："+t._s(t.cocSelf.address))])]),t._v(" "),t.cocSelf.industry?e("v-layout",{staticClass:"info-type text-xs-left",attrs:{wrap:"",row:""}},[e("v-flex",{staticClass:"pl-4 mt-3",attrs:{xs4:"",md2:""}},[e("p",{staticClass:"item-title mb-1"},[t._v(t._s(t.$t("cocShow.navbar.industry")))]),t._v(" "),e("p",[t._v(t._s(t.cocSelf.industry.name))])]),t._v(" "),e("v-flex",{staticClass:"info-type-item pl-4 mt-3",attrs:{xs4:"",md1:""}},[e("p",{staticClass:"item-title mb-1"},[t._v(t._s(t.$t("cocShow.navbar.region")))]),t._v(" "),e("p",[t._v(t._s(t.cocSelf.location.name))])]),t._v(" "),e("v-flex",{staticClass:"info-type-item pl-4 mt-3",attrs:{xs4:"",md1:""}},[e("p",{staticClass:"item-title mb-1"},[t._v(t._s(t.$t("cocShow.navbar.scale")))]),t._v(" "),e("p",["BETWEEN30AND50"===t.cocSelf.scale?e("span",{staticClass:"number"},[t._v("30-50")]):t._e(),t._v(" "),"BETWEEN50AND100"===t.cocSelf.scale?e("span",{staticClass:"number"},[t._v("50-100")]):t._e(),t._v(" "),"MORETHAN100"===t.cocSelf.scale?e("span",{staticClass:"number"},[t._v("100+")]):t._e()])]),t._v(" "),e("v-flex",{staticClass:"info-type-item pl-4 mt-3",attrs:{xs4:"",md2:""}},[e("p",{staticClass:"item-title mb-1"},[t._v(t._s(t.$t("cocShow.navbar.founding_time")))]),t._v(" "),e("p",[t._v(t._s(t.cocSelf.establishedDate))])]),t._v(" "),e("v-flex",{staticClass:"info-type-item pl-4 mt-3",attrs:{xs4:"",md2:""}},[e("p",{staticClass:"item-title mb-1"},[t._v(t._s(t.$t("cocShow.navbar.contacts")))]),t._v(" "),e("p",[t._v(t._s(t.cocSelf.contacts))])]),t._v(" "),e("v-flex",{staticClass:"info-type-item pl-4 mt-3",attrs:{xs4:"",md2:""}},[e("p",{staticClass:"item-title mb-1"},[t._v(t._s(t.$t("cocShow.navbar.contact_number")))]),t._v(" "),e("p",[t._v(t._s(t.cocSelf.phone))])])],1):t._e()],1)],1)],1)],1)],1),t._v(" "),e("v-layout",{staticClass:"text-xs-left white mt-3",attrs:{column:""}},[e("v-flex",{staticClass:"py-3 px-3 apply-back"},[e("span",{staticClass:"subheading vertical-m ml-1"},[e("v-btn",{attrs:{to:{path:"/company/home",query:{id:t.cocSelf.id}},icon:"",flat:"",color:"primary"}},[e("v-icon",[t._v("arrow_back")])],1),t._v(" "+t._s(t.$t("cocShow.navbar.apply_into_coc"))+"\n          ")],1)]),t._v(" "),e("v-flex",[e("v-layout",{attrs:{column:""}},[e("v-flex",{staticClass:"pl-4 mt-3"},[e("span",{staticClass:"title"},[t._v(t._s(t.$t("global.apply_group")))]),t._v(" "),e("span",{staticClass:"ml-3"},[t._v("("+t._s(t.$t("global.selectApplyShip"))+")")])]),t._v(" "),e("v-flex",{staticClass:"px-3 mt-3"},[t._l(t.memberships,function(s){return[e("v-btn",{staticClass:" btn ",class:{active:t.forms["membership.id"]===s.id},attrs:{depressed:"",flat:""},on:{click:function(e){return t.change("membership",s.id)}}},[t._v("\n                  "+t._s(s.name)+" "),null!==s.period?e("span",[t._v("HK$"+t._s(s.amount)+" /")]):t._e(),t._v(" "),s.isForever||0===s.period?e("span",{staticClass:"ml-1"},[t._v(t._s(t.$t("global.forever")))]):e("span",{staticClass:"ml-1"},[t._v(t._s(s.period)),null!==s.period?e("span",[t._v(t._s(t.$t("global.month")))]):t._e()])])]})],2)],1),t._v(" "),e("v-layout",{attrs:{column:""}},[e("v-flex",{staticClass:"pl-4 mt-3"},[e("span",{staticClass:"title"},[t._v(t._s(t.$t("global.apply_position")))]),t._v(" "),e("span",{staticClass:"ml-3"},[t._v("("+t._s(t.$t("global.selectApplyPosition"))+")")])]),t._v(" "),e("v-flex",{staticClass:"px-3 mt-3"},[t._l(t.positions,function(s){return[e("v-btn",{staticClass:" btn",class:{active:t.forms["memberPosition.id"]===s.id},attrs:{depressed:"",flat:""},on:{click:function(e){return t.change("position",s.id)}}},[t._v(t._s(s.title))])]})],2)],1),t._v(" "),e("v-layout",{attrs:{row:"",wrap:""}},[e("v-flex",{staticClass:"px-4"},[e("v-checkbox",{attrs:{color:"primary",label:t.$t("global.isIntroducer")},model:{value:t.checkbox,callback:function(s){t.checkbox=s},expression:"checkbox"}})],1),t._v(" "),t.checkbox?e("v-flex",{staticClass:"px-4"},[e("v-text-field",{attrs:{color:"primary",label:t.$t("global.isIntroducer_text")},model:{value:t.forms.introducer,callback:function(s){t.$set(t.forms,"introducer",s)},expression:"forms.introducer"}})],1):t._e()],1),t._v(" "),e("v-layout",{attrs:{row:"",wrap:""}},[e("v-flex",{staticClass:"px-4"},[e("h4",{staticClass:"title pt-4 mb-3"},[t._v(t._s(t.$t("global.statement")))]),t._v(" "),e("div",{staticClass:"  mt-2"},[t._v("1、"+t._s(t.$t("global.statement_one")))]),t._v(" "),e("div",{staticClass:" mt-2"},[t._v("2、"+t._s(t.$t("global.statement_two")))]),t._v(" "),e("div",{staticClass:"mt-2"},[t._v("3、"+t._s(t.$t("global.statement_three")))]),t._v(" "),e("v-checkbox",{attrs:{rules:[t.rules.required],label:t.$t("global.statement_one_text"),color:"primary","hide-details":""},model:{value:t.forms.statement1,callback:function(s){t.$set(t.forms,"statement1",s)},expression:"forms.statement1"}}),t._v(" "),e("v-checkbox",{attrs:{rules:[t.rules.required],label:t.$t("global.statement_two_text"),color:"primary","hide-details":""},model:{value:t.forms.statement2,callback:function(s){t.$set(t.forms,"statement2",s)},expression:"forms.statement2"}}),t._v(" "),e("v-checkbox",{attrs:{rules:[t.rules.required],label:t.$t("global.statement_three_text"),color:"primary","hide-details":""},model:{value:t.forms.statement3,callback:function(s){t.$set(t.forms,"statement3",s)},expression:"forms.statement3"}})],1)],1)],1)],1),t._v(" "),e("v-layout",{staticClass:"white pb-5",attrs:{"align-center":"","justify-center":"",row:"","fill-height":""}},[e("v-flex",{attrs:{md2:"",xs6:""}},[e("v-btn",{attrs:{color:"primary",disabled:!t.valid,loading:t.isLoading,block:""},nativeOn:{click:function(s){return t.onSubmit()}}},[t._v(t._s(t.$t("button.apply")))])],1)],1)],1)],1)],1)},staticRenderFns:[]};var n=e("VU/8")(l,r,!1,function(t){e("e17w")},"data-v-5fb1f18e",null);s.default=n.exports},e17w:function(t,s){}});
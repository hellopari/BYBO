webpackJsonp([18],{ejms:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a={metaInfo:{title:"新聞列表",titleTemplate:"%s_企業廣場_企業管理和推廣平台",htmlAttrs:{lang:"hk",amp:void 0}},data:function(){return{loading:!1,model:null,search:null,news:[],isLoading:!0,page:1,filterpage:0,totalPages:0}},methods:{newDetail:function(t,s){this.$router.push({path:"company/new-detail",query:{id:t,newId:s}})},handleInput:function(t){this.page=t,this.filterpage=t-1,this.$router.push({path:"/news-list",query:{page:this.filterpage}}),this.$vuetify.goTo(200,{duration:800,easing:"easeInOutCubic",offset:50}),this._initNews()},_initNews:function(){var t=this;this.isLoading=!0,this.$route.query.page=void 0!==this.$route.query.page?this.$route.query.page:0,this.$http.get("public/posts?page="+this.$route.query.page+"&size=6").then(function(s){t.news=s.data.content,t.totalPages=s.data.totalPages,t.isLoading=!1},function(t){})}},mounted:function(){var t=this;this.page=void 0!==this.$route.query.page?Number(this.$route.query.page)+1:1,void 0!==this.$route.query.search?(console.log("here"),this.isLoading=!0,this.$http.get("public/posts?page="+this.filterpage+"&size=6&isApproved=true&search="+this.$route.query.search).then(function(s){t.orgs=s.data.content,t.totalPages=s.data.totalPages,t.isLoading=!1,console.log(t.$route.query.search)},function(t){})):(console.log(this.$route.query.search),this._initNews())}},i={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"new-list-page"},[e("v-container",{staticClass:"my-5 xsmt-5",attrs:{fluid:""}},[e("v-layout",{staticClass:"mb-4",attrs:{row:"",wrap:""}},[e("v-flex",{staticClass:"text-xs-left",attrs:{xs12:""}},[e("div",{staticClass:"module-tabs"},[e("h4",{staticClass:"diamonds headline"},[t._v(t._s(t.$t("navbar.news_list")))])])])],1),t._v(" "),e("v-layout",[t.isLoading?e("v-flex",{staticClass:"white py-5 mt-5",attrs:{xs12:""}},[e("div",{staticClass:"text-xs-center"},[e("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1)]):t._e()],1),t._v(" "),t._l(t.news,function(s,a){return e("v-flex",{key:a,staticClass:"mb-4 cur-pointer",attrs:{xs12:""},on:{click:function(e){return t.newDetail(s.organization.id,s.id)}}},[e("v-card",{staticClass:"d-flex elevation-0 hover-card"},[e("v-layout",{staticClass:"px-4 py-4",attrs:{row:"",wrap:""}},[e("v-flex",{attrs:{lg9:"",md9:"",sm12:""}},[e("v-layout",{attrs:{row:"",wrap:""}},[e("v-flex",{attrs:{lg3:"",md4:"",sm5:"",xs12:""}},[e("div",{staticClass:"img-content"},[s.postImages.length>0?[e("img",{staticClass:"img-responsive",attrs:{src:t.$fileUrl+"/public/uploads/o/company/post/"+s.id+"/"+s.postImages[0].key,"lazy-src":"https://dummyimage.com/600x400/ddd/fff"}})]:t._e()],2)]),t._v(" "),e("v-flex",{attrs:{lg9:"",md8:"",sm7:"",xs12:""}},[e("v-card-text",{staticClass:"text-xs-left py-0"},[e("div",{staticClass:"mb-3 text-no-wrap text-truncate title"},[t._v(t._s(s.title))]),t._v(" "),e("div",{staticClass:" mb-3 text-no-wrap text-truncate "},[e("v-icon",{attrs:{color:"grey"}},[t._v("access_time")]),t._v(" "),e("span",{staticClass:"ml-2 subheading body-1 grey--text"},[t._v(t._s(t._f("time")(s.createdAt)))]),t._v(" "),e("span",{staticClass:"ml-2 subheading body-1 grey--text"},[t._v(t._s(s.organization.name))])],1),t._v(" "),e("v-divider",{staticClass:"mb-2"}),t._v(" "),e("div",[e("p",{staticClass:"three-line-overflow pb-0"},[t._v(t._s(t._f("filterText")(s.content)))])])],1)],1)],1)],1),t._v(" "),e("v-flex",{attrs:{lg3:"",md3:"","hidden-sm-only":"","hidden-xs-only":""}},[e("v-layout",{attrs:{row:"",wrap:"","fill-height":"","align-center":""}},[e("v-flex",{attrs:{md12:""}},[e("v-card-text",{staticClass:"text-xs-left pr-4",staticStyle:{"border-left":"1px solid #ddd"}},[e("div",{staticClass:" mb-4 text-no-wrap text-truncate title primary--text"},[t._v(t._s(s.organization.name))]),t._v(" "),e("div",{staticClass:"mb-0"},[e("v-layout",{staticClass:"text-xs-left",attrs:{row:""}},[e("v-flex",{attrs:{xs4:""}},[e("div",{staticClass:"text-no-wrap text-truncate"},["BETWEEN30AND50"===s.organization.scale?e("span",{staticClass:"number"},[t._v("30-50")]):t._e(),t._v(" "),"BETWEEN50AND100"===s.organization.scale?e("span",{staticClass:"number"},[t._v("50-100")]):t._e(),t._v(" "),"MORETHAN100"===s.organization.scale?e("span",{staticClass:"number"},[t._v("100+")]):t._e()]),t._v(" "),e("div",{staticClass:"text-no-wrap grey--text text-truncate"},[t._v(t._s(t.$t("cocShow.navbar.scale")))])]),t._v(" "),e("v-divider",{staticClass:"mr-3 ml-1",attrs:{vertical:""}}),t._v(" "),e("v-flex",{attrs:{xs4:""}},[e("div",{staticClass:"text-no-wrap text-truncate"},[t._v(t._s(s.organization.industry.name))]),t._v(" "),e("div",{staticClass:"text-no-wrap grey--text text-truncate"},[t._v(t._s(t.$t("chamber.select.industry")))])]),t._v(" "),e("v-divider",{staticClass:"mr-3 ml-1",attrs:{vertical:""}}),t._v(" "),e("v-flex",{attrs:{xs4:""}},[e("div",{staticClass:"text-no-wrap text-truncate"},[t._v(t._s(s.view)+t._s(t.$t("cocShow.news.views")))]),t._v(" "),e("div",{staticClass:"grey--text"},[t._v(t._s(t.$t("cocShow.news.hot")))])])],1)],1)])],1)],1)],1)],1)],1)],1)}),t._v(" "),0!==t.news.length||t.isLoading?t._e():e("v-flex",{staticClass:"white py-5 mt-4",attrs:{row:"",wrap:""}},[e("v-flex",{staticClass:" py-5",attrs:{xs12:""}},[e("v-icon",{attrs:{size:"120",color:"primary"}},[t._v("fiber_new")]),t._v(" "),e("div",{staticClass:"blue-grey--text text--darken-3 subheading"},[t._v(t._s(t.$t("cocShow.home.no_coc_news")))])],1)],1),t._v(" "),e("v-layout",[t.news.length&&!t.isLoading?e("v-flex",{staticClass:"mt-5 text-xs-center",attrs:{xs12:""}},[e("v-pagination",{attrs:{length:t.totalPages},on:{input:t.handleInput},model:{value:t.page,callback:function(s){t.page=s},expression:"page"}})],1):t._e()],1)],2)],1)},staticRenderFns:[]};var r=e("VU/8")(a,i,!1,function(t){e("qU0M")},null,null);s.default=r.exports},qU0M:function(t,s){}});